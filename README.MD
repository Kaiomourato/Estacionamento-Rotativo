 # Estacionamento Rotativo â€” API

 Projeto backend em Java + Spring Boot para gerenciamento de vagas e estadias em um estacionamento rotativo.

 O repositÃ³rio contÃ©m uma API REST simples, preparada para evoluÃ§Ã£o e deploy.

 ---

## ğŸ—ï¸ Arquitetura

### Backend
- **Linguagem:** Java 21
- **Framework:** Spring Boot
- **Banco de Dados:** PostgreSQL
- **PersistÃªncia:** Spring Data JPA
- **Arquitetura:** REST

### Frontend (em desenvolvimento)
- **Tipo:** AplicaÃ§Ã£o Mobile
- **ComunicaÃ§Ã£o:** HTTP + JSON
- **Consome:** API REST do backend

---

## ğŸ“¦ Estrutura do Projeto

src/main/java/br/com/estacionamento/api
â”‚
â”œâ”€â”€ controller
â”‚ â”œâ”€â”€ VeiculoController.java
â”‚ â”œâ”€â”€ VagaController.java
â”‚ â””â”€â”€ EstadiaController.java
â”‚
â”œâ”€â”€ model
â”‚ â”œâ”€â”€ Veiculo.java
â”‚ â”œâ”€â”€ Vaga.java
â”‚ â”œâ”€â”€ Estadia.java
â”‚ â””â”€â”€ TipoVeiculo.java
â”‚
â”œâ”€â”€ repository
â”‚ â”œâ”€â”€ VeiculoRepository.java
â”‚ â”œâ”€â”€ VagaRepository.java
â”‚ â””â”€â”€ EstadiaRepository.java
â”‚
â”œâ”€â”€ service
â”‚ â”œâ”€â”€ VeiculoService.java
â”‚ â”œâ”€â”€ VagaService.java
â”‚ â””â”€â”€ EstadiaService.java
â”‚
â””â”€â”€ EstacionamentoApiApplication.java


---

## ğŸ§© Modelo de Dados

### ğŸš— VeÃ­culo
- `id`
- `placa` (Ãºnica)
- `modelo`
- `cor`
- `tipo` (CARRO, MOTO, CAMINHONETE)
- `ativo`

---

### ğŸ…¿ï¸ Vaga
- `id`
- `codigo` (ex: A1, B2)
- `ocupada`

---

### â±ï¸ Estadia
- `id`
- `veiculo`
- `vaga`
- `entrada`
- `saida`
- `ativa`
- `valor`

---

## ğŸ“œ Regras de NegÃ³cio

- âŒ Um veÃ­culo **nÃ£o pode ter mais de uma estadia ativa**
- âŒ Uma vaga **nÃ£o pode estar ocupada por mais de um veÃ­culo**
- âœ… A vaga Ã© escolhida **manualmente**
- âœ… Vagas de carro e moto sÃ£o diferentes
- âœ… O valor Ã© calculado **por fraÃ§Ã£o**
- âœ… O valor Ã© atualizado **durante a estadia**
- âœ… O cliente pode consultar o valor a qualquer momento

---

## ğŸ”— Endpoints DisponÃ­veis

### ğŸš— VeÃ­culos

**Criar veÃ­culo**

POST /veiculos


```json
{
  "placa": "ABC1234",
  "modelo": "Civic",
  "cor": "Preto",
  "tipo": "CARRO"
}

**Listar veÃ­culos**

GET /veiculos

**Buscar veÃ­culo por ID**

GET /veiculos/{id}

Desativar veÃ­culo

DELETE /veiculos/{id}

ğŸ…¿ï¸ Vagas

Criar vaga

POST /vagas

{
  "codigo": "A1",
  "ocupada": false
}

Listar vagas

GET /vagas

Listar vagas disponÃ­veis

GET /vagas/disponiveis

â±ï¸ Estadias

Iniciar estadia

POST /estadias/entrada

{
  "veiculoId": 1,
  "vagaId": 2
}

Consultar valor atual

GET /estadias/{id}/valor

Finalizar estadia

POST /estadias/{id}/saida

Listar estadias ativas

GET /estadias/ativas

ğŸ”Œ IntegraÃ§Ã£o com Frontend

    O frontend nÃ£o acessa o banco de dados diretamente

    Toda comunicaÃ§Ã£o ocorre via API REST

    Formato: JSON

    URL base local:

http://localhost:8080

â–¶ï¸ Como Executar o Projeto
PrÃ©-requisitos

    Java 21

    PostgreSQL

    Maven (ou Maven Wrapper)

Passos

./mvnw clean spring-boot:run

ğŸ“Š Status do Projeto
âœ… ConcluÃ­do

    Backend funcional

    Banco de dados configurado

    CRUD de veÃ­culos, vagas e estadias

    Regras de negÃ³cio aplicadas

    Endpoints testados

ğŸš§ Em andamento

    AplicaÃ§Ã£o mobile (frontend)

    Deploy em nuvem

    AutenticaÃ§Ã£o de usuÃ¡rios

ğŸš€ PrÃ³ximas EvoluÃ§Ãµes

    AutenticaÃ§Ã£o (funcionÃ¡rio)

    HistÃ³rico completo de estadias

    Dashboard administrativo

    Deploy em nuvem (Railway / Render / AWS)

    IntegraÃ§Ã£o com leitura de placas (cÃ¢mera)

ğŸ‘¨â€ğŸ’» ObservaÃ§Ãµes para Desenvolvedores

    O backend estÃ¡ preparado para crescimento

    O frontend pode ser desenvolvido em paralelo

    Nenhuma refatoraÃ§Ã£o estrutural serÃ¡ necessÃ¡ria